"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7454],{7454:(T,f,l)=>{l.r(f),l.d(f,{GradnjaPageModule:()=>B});var b=l(177),j=l(9417),u=l(7863),p=l(8664),t=l(4438),_=l(3656),x=l(8821);function v(i,c){1&i&&t.nrm(0,"ion-icon",11)}function y(i,c){1&i&&t.nrm(0,"ion-icon",12)}function k(i,c){if(1&i){const s=t.RV6();t.j41(0,"ion-button",13),t.bIt("click",function(){t.eBV(s);const e=t.XpG();return t.Njj(e.toggleImage())}),t.j41(1,"p",14),t.EFF(2,"KLIKNI"),t.k0s()()}}function M(i,c){if(1&i){const s=t.RV6();t.j41(0,"div",15)(1,"ion-button",16),t.bIt("click",function(){t.eBV(s);const e=t.XpG();return t.Njj(e.toggleInfo())}),t.j41(2,"p",14),t.EFF(3,"INFO"),t.k0s()(),t.j41(4,"ion-button",17),t.bIt("click",function(){t.eBV(s);const e=t.XpG();return t.Njj(e.nextPage())}),t.j41(5,"p",18),t.bIt("click",function(){t.eBV(s);const e=t.XpG();return t.Njj(e.nextPage())}),t.EFF(6,"NASTAVI"),t.k0s()()()}}function P(i,c){if(1&i){const s=t.RV6();t.j41(0,"img",19),t.bIt("touchstart",function(e){t.eBV(s);const n=t.XpG();return t.Njj(n.touchStart(e,"damm"))})("touchmove",function(e){t.eBV(s);const n=t.XpG();return t.Njj(n.touchMove(e))})("touchend",function(e){t.eBV(s);const n=t.XpG();return t.Njj(n.touchEnd(e,"damm"))}),t.k0s()}}function I(i,c){1&i&&t.nrm(0,"img",20)}function G(i,c){1&i&&(t.j41(0,"div",21)(1,"h1"),t.EFF(2,"INFO"),t.k0s(),t.j41(3,"div",22)(4,"p"),t.EFF(5," Dabrovi su poznati po svojoj iznimnoj sposobnosti gradnje. \u017dive uz rijeke, potoke i jezera, gdje grade brane i brloge. Brane izra\u0111uju od granja, blata i kamenja kako bi usporili tok vode i stvorili jezerca koja im pru\u017eaju za\u0161titu i lak\u0161i pristup hrani tijekom cijele godine. Njihovi brlozi, smje\u0161teni naj\u010de\u0161\u0107e usred vode, imaju ulaz ispod povr\u0161ine, \u0161to ih dodatno \u0161titi od grabe\u017eljivaca. Svojim gra\u0111evinama dabrovi \u010desto mijenjaju okolni\xa0ekosustav. "),t.k0s()()())}const w=[{path:"",component:(()=>{var i;class c{constructor(o,e,n,r){this.router=o,this.platform=e,this.cdr=n,this.pointService=r,this.showImage=!1,this.showInfo=!1,this.showError=!1,this.puzzleComplete=!1,this.isDragging=!1,this.startX=0,this.startY=0,this.droppedImages={damm:!1}}ngOnInit(){this.startBackgroundMusic(),this.backButtonSub=this.platform.backButton.subscribeWithPriority(9999,()=>{console.log("Back button disabled")})}ngOnDestroy(){this.backButtonSub&&this.backButtonSub.unsubscribe()}ionViewWillEnter(){this.resetGame()}ionViewWillLeave(){this.stopBackgroundMusic()}resetGame(){this.showImage=!1,this.showInfo=!1,this.showError=!1,this.puzzleComplete=!1,this.pointService.resetPoints(),this.droppedImages={damm:!1},document.querySelectorAll(".drop-zone").forEach(o=>{o.classList.remove("dropped")})}startBackgroundMusic(){this.backgroundMusic&&(this.backgroundMusic.pause(),this.backgroundMusic.currentTime=0),this.backgroundMusic=new Audio("assets/sounds/spring-time-lofi.mp3"),this.backgroundMusic.loop=!0,this.backgroundMusic.volume=.5,this.backgroundMusic.play().catch(o=>{console.error("Error playing background music:",o)})}stopBackgroundMusic(){this.backgroundMusic&&(this.backgroundMusic.pause(),this.backgroundMusic.currentTime=0,this.backgroundMusic=void 0)}toggleMusic(){this.backgroundMusic&&(this.backgroundMusic.paused?this.backgroundMusic.play():this.backgroundMusic.pause())}toggleImage(){this.showImage=!this.showImage}toggleInfo(){this.showInfo=!this.showInfo}touchStart(o,e){const n=o.touches[0];if(n){var r;o.preventDefault(),this.startX=n.clientX,this.startY=n.clientY,this.isDragging=!1;const a=o.target;a.setAttribute("data-dragging",e),a.style.opacity="0.5",a.setAttribute("data-original-left",a.offsetLeft.toString()),a.setAttribute("data-original-top",a.offsetTop.toString()),a.setAttribute("data-original-parent-id",(null===(r=a.parentElement)||void 0===r?void 0:r.id)||"")}}touchEnd(o,e){const n=document.querySelector("[data-dragging]"),r=null==n?void 0:n.getAttribute("data-dragging");if(console.log("draggedImageId obitelj: ",r),!r||!this.isDragging)return void(n&&(n.style.opacity="1",n.style.position="",n.style.left="",n.style.top="",n.style.width="",n.style.height="",n.removeAttribute("data-dragging")));const a=o.changedTouches[0],g=document.getElementById("drop-"+e);if(g&&a){const d=g.getBoundingClientRect();a.clientX>=d.left&&a.clientX<=d.right&&a.clientY>=d.top&&a.clientY<=d.bottom&&r===e?(this.playSound("correct"),this.droppedImages[r]||this.pointService.addPoints(1),this.droppedImages[r]=!0,this.checkCompletion(),g.classList.add("dropped"),g.appendChild(n),n.style.width="100%",n.style.height="auto"):(this.playSound("wrong"),this.showError=!0,setTimeout(()=>{this.showError=!1},2e3))}if(n&&(n.style.opacity="1",n.style.position="",n.style.left="",n.style.top="",n.style.width="",n.style.height="",n.removeAttribute("data-dragging"),document.getElementById("img-container"),!this.droppedImages[r])){const O=n.getAttribute("data-original-left"),z=n.getAttribute("data-original-top"),m=n.getAttribute("data-original-parent-id"),h=m?document.getElementById(m):null;console.log("obitelj: ",O,z,m,h),h&&h.appendChild(n),n.style.position="",n.style.left="",n.style.top=""}}touchMove(o){const e=o.touches[0];if(e){o.preventDefault();const n=Math.abs(e.clientX-this.startX),r=Math.abs(e.clientY-this.startY);if(n>10||r>10){this.isDragging=!0;const a=document.querySelector("[data-dragging]"),g=document.getElementById("img-container");if(a&&(a.style.position="absolute",a.style.left=e.clientX-a.offsetWidth/2+"px",a.style.top=e.clientY-a.offsetHeight/2+"px",g)){const d=g.getBoundingClientRect();(e.clientX<d.left||e.clientX>d.right||e.clientY<d.top||e.clientY>d.bottom)&&(document.body.contains(a)||document.body.appendChild(a),this.showImage=!1,document.body.appendChild(a),a.style.width="20vmin",a.style.height="auto")}}}}checkCompletion(){Object.values(this.droppedImages).every(o=>!0===o)&&(this.puzzleComplete=!0,this.showImage=!1)}playSound(o){let e=new Audio;e.src="correct"===o?"assets/sounds/correct.mp3":"assets/sounds/wrong.mp3",e.load(),e.play()}nextPage(){this.stopBackgroundMusic(),this.router.navigateByUrl("/okolis",{replaceUrl:!0})}}return(i=c).\u0275fac=function(o){return new(o||i)(t.rXU(p.Ix),t.rXU(_.OD),t.rXU(t.gRc),t.rXU(x.a))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-gradnja"]],decls:11,vars:10,consts:[[3,"fullscreen"],[1,"musicBtn",3,"click"],["name","play",4,"ngIf"],["name","pause",4,"ngIf"],["class","toggleBtn",3,"click",4,"ngIf"],["class","infoBtn-container",4,"ngIf"],["id","img-container",1,"img-container"],["src","assets/damm.png","alt","damm","id","damm","class","draggable-img",3,"touchstart","touchmove","touchend",4,"ngIf"],["id","drop-damm",1,"drop-zone","drop-zone1",3,"touchend"],["src","assets/damm.png","alt","damm","class","dropped-image-1",4,"ngIf"],["class","info-container",4,"ngIf"],["name","play"],["name","pause"],[1,"toggleBtn",3,"click"],[1,"toggleBtnText"],[1,"infoBtn-container"],[1,"infoBtn",3,"click"],[1,"nextBtn",3,"click"],[1,"nextBtnText",3,"click"],["src","assets/damm.png","alt","damm","id","damm",1,"draggable-img",3,"touchstart","touchmove","touchend"],["src","assets/damm.png","alt","damm",1,"dropped-image-1"],[1,"info-container"],[1,"info-text"]],template:function(o,e){1&o&&(t.j41(0,"ion-content",0)(1,"ion-button",1),t.bIt("click",function(){return e.toggleMusic()}),t.DNE(2,v,1,0,"ion-icon",2)(3,y,1,0,"ion-icon",3),t.k0s(),t.DNE(4,k,3,0,"ion-button",4)(5,M,7,0,"div",5),t.j41(6,"div",6),t.DNE(7,P,1,0,"img",7),t.k0s(),t.j41(8,"div",8),t.bIt("touchend",function(r){return e.touchEnd(r,"damm")}),t.DNE(9,I,1,0,"img",9),t.k0s(),t.DNE(10,G,6,0,"div",10),t.k0s()),2&o&&(t.Y8G("fullscreen",!0),t.R7$(2),t.Y8G("ngIf",null==e.backgroundMusic?null:e.backgroundMusic.paused),t.R7$(),t.Y8G("ngIf",!(null!=e.backgroundMusic&&e.backgroundMusic.paused)),t.R7$(),t.Y8G("ngIf",!e.puzzleComplete),t.R7$(),t.Y8G("ngIf",e.puzzleComplete),t.R7$(),t.AVh("show",e.showImage),t.R7$(),t.Y8G("ngIf",!e.droppedImages.damm),t.R7$(2),t.Y8G("ngIf",e.droppedImages.damm),t.R7$(),t.Y8G("ngIf",e.showInfo))},dependencies:[b.bT,u.Jm,u.W9,u.iq],styles:['ion-content[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%;--background: url("/assets/3 - gradnja stanista.jpg") no-repeat center center/100% 100%;--overflow: hidden}img[_ngcontent-%COMP%]{max-width:none}.toggleBtn[_ngcontent-%COMP%]{font-size:2rem;--background: transparent;--box-shadow: none;position:absolute;bottom:-15%;left:50%;transform:translate(-50%)}.musicBtn[_ngcontent-%COMP%]{--background: #93dce8}.nextBtn[_ngcontent-%COMP%], .infoBtn[_ngcontent-%COMP%]{--background: transparent;--box-shadow: none;display:flex;height:15vmin}.img-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:-100%;transform:translateY(-50%);transition:left .5s ease-in-out;width:20%;height:100vh;object-fit:contain;overflow-y:auto;background-color:#fff;border-right:10px solid #95dbe8;padding:1rem;z-index:999;display:flex;justify-content:center;align-items:center;flex-direction:column;overflow-y:none}.infoBtn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;position:absolute;bottom:0%;left:50%;transform:translate(-50%)}.img-container.show[_ngcontent-%COMP%]{left:0}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{touch-action:none;transition:opacity .2s ease}img[data-dragging][_ngcontent-%COMP%]{z-index:1000;pointer-events:none}.draggable-img[_ngcontent-%COMP%]{width:25vmin;height:25vmin}.dropped-image-1[_ngcontent-%COMP%]{height:63vmin;z-index:-999;position:absolute}.drop-zone[_ngcontent-%COMP%]{height:20vmin;width:20vmin;position:relative;left:65%;top:25%;background-color:#d2cece8d;display:flex;justify-content:center;align-items:center}.drop-zone.highlight[_ngcontent-%COMP%]{border:2px dashed #4caf50}.drop-zone.show[_ngcontent-%COMP%]{left:auto;right:auto;visibility:visible;opacity:1;transition:opacity .5s ease-in-out;z-index:1000}.dropped[_ngcontent-%COMP%]{background-color:transparent}.drop-zone1[_ngcontent-%COMP%]{left:48%;top:19%}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:50%;margin:1rem auto;padding:1rem;position:absolute;top:-6%;left:50%;transform:translate(-50%,-10%);max-height:105vmin}.info-text[_ngcontent-%COMP%]{background-color:#fff;border:10px solid #95dbe8;padding:1rem;line-height:1.5;max-height:90vmin;overflow-y:auto}h1[_ngcontent-%COMP%]{color:#fff;font-family:Bagel Fat One,system-ui;font-size:3rem;text-shadow:0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8}p[_ngcontent-%COMP%]{font-size:.8rem;color:#2e2e2e;line-height:1.5}.nextBtnText[_ngcontent-%COMP%], .toggleBtnText[_ngcontent-%COMP%]{color:#fff;font-family:Bagel Fat One,system-ui;text-shadow:0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8;font-size:3rem}.info-container.show[_ngcontent-%COMP%]{right:0}.error-image[_ngcontent-%COMP%]{height:20vmin;width:20vmin;position:absolute;left:50%;top:0}']}),c})()}];let C=(()=>{var i;class c{}return(i=c).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[p.iI.forChild(w),p.iI]}),c})(),B=(()=>{var i;class c{}return(i=c).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[b.MD,j.YN,u.bv,C]}),c})()}}]);