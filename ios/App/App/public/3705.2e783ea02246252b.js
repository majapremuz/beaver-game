"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3705],{3705:(T,f,d)=>{d.r(f),d.d(f,{OkolisPageModule:()=>w});var v=d(177),_=d(9417),u=d(7863),p=d(8664),t=d(4438),b=d(3656),k=d(8821);function M(i,c){1&i&&t.nrm(0,"ion-icon",11)}function O(i,c){1&i&&t.nrm(0,"ion-icon",12)}function P(i,c){if(1&i){const r=t.RV6();t.j41(0,"ion-button",13),t.bIt("click",function(){t.eBV(r);const e=t.XpG();return t.Njj(e.toggleImage())}),t.j41(1,"p",14),t.EFF(2,"KLIKNI"),t.k0s()()}}function x(i,c){if(1&i){const r=t.RV6();t.j41(0,"div",15)(1,"ion-button",16),t.bIt("click",function(){t.eBV(r);const e=t.XpG();return t.Njj(e.toggleInfo())}),t.j41(2,"p",14),t.EFF(3,"INFO"),t.k0s()(),t.j41(4,"ion-button",17),t.bIt("click",function(){t.eBV(r);const e=t.XpG();return t.Njj(e.nextPage())}),t.j41(5,"p",18),t.bIt("click",function(){t.eBV(r);const e=t.XpG();return t.Njj(e.nextPage())}),t.EFF(6,"NASTAVI"),t.k0s()()()}}function C(i,c){if(1&i){const r=t.RV6();t.j41(0,"img",19),t.bIt("touchstart",function(e){t.eBV(r);const n=t.XpG();return t.Njj(n.touchStart(e,"drvo"))})("touchmove",function(e){t.eBV(r);const n=t.XpG();return t.Njj(n.touchMove(e))})("touchend",function(e){t.eBV(r);const n=t.XpG();return t.Njj(n.touchEnd(e,"drvo"))}),t.k0s()}}function y(i,c){1&i&&t.nrm(0,"img",20)}function j(i,c){1&i&&(t.j41(0,"div",21)(1,"h1"),t.EFF(2,"INFO"),t.k0s(),t.j41(3,"div",22)(4,"p"),t.EFF(5," Dabrovi imaju sna\u017ean utjecaj na okoli\u0161 u kojem \u017eive. Gradnjom brana usporavaju tokove rijeka i potoka, \u010dime stvaraju mo\u010dvarna stani\u0161ta koja pogoduju brojnim biljnim i \u017eivotinjskim vrstama. Ta nova stani\u0161ta pove\u0107avaju biolo\u0161ku raznolikost podru\u010dja. Osim toga, zadr\u017eavanjem vode poma\u017eu u sprje\u010davanju su\u0161a i erozije tla. S druge strane, njihova aktivnost ponekad mo\u017ee izazvati poplave na poljoprivrednim povr\u0161inama ili promijeniti prirodni tok vode, \u0161to mo\u017ee biti izazov za ljude. Unato\u010d tome, dabrovi se smatraju klju\u010dnim vrstama u ekosustavu jer svojim djelovanjem oblikuju i oboga\u0107uju prirodnu\xa0sredinu. "),t.k0s()()())}const I=[{path:"",component:(()=>{var i;class c{constructor(o,e,n,a){this.router=o,this.platform=e,this.cdr=n,this.pointService=a,this.showImage=!1,this.showInfo=!1,this.showError=!1,this.puzzleComplete=!1,this.isDragging=!1,this.startX=0,this.startY=0,this.droppedImages={drvo:!1}}ngOnInit(){this.startBackgroundMusic(),this.backButtonSub=this.platform.backButton.subscribeWithPriority(9999,()=>{console.log("Back button disabled")})}ngOnDestroy(){this.backButtonSub&&this.backButtonSub.unsubscribe()}ionViewWillEnter(){this.resetGame()}ionViewWillLeave(){this.stopBackgroundMusic()}resetGame(){this.showImage=!1,this.showInfo=!1,this.showError=!1,this.puzzleComplete=!1,this.pointService.resetPoints(),this.droppedImages={drvo:!1},document.querySelectorAll(".drop-zone").forEach(o=>{o.classList.remove("dropped")})}startBackgroundMusic(){this.backgroundMusic&&(this.backgroundMusic.pause(),this.backgroundMusic.currentTime=0),this.backgroundMusic=new Audio("assets/sounds/spring-time-lofi.mp3"),this.backgroundMusic.loop=!0,this.backgroundMusic.volume=.5,this.backgroundMusic.play().catch(o=>{console.error("Error playing background music:",o)})}stopBackgroundMusic(){this.backgroundMusic&&(this.backgroundMusic.pause(),this.backgroundMusic.currentTime=0,this.backgroundMusic=void 0)}toggleMusic(){this.backgroundMusic&&(this.backgroundMusic.paused?this.backgroundMusic.play():this.backgroundMusic.pause())}toggleImage(){this.showImage=!this.showImage}toggleInfo(){this.showInfo=!this.showInfo}addTouchListeners(){document.querySelectorAll(".draggable-img").forEach(e=>{const n=e;n.addEventListener("touchstart",a=>this.touchStart(a,n.id),{passive:!1}),n.addEventListener("touchmove",a=>this.touchMove(a),{passive:!1}),n.addEventListener("touchend",a=>this.touchEnd(a,n.id),{passive:!1})})}touchStart(o,e){const n=o.touches[0];if(n){var a;o.preventDefault(),this.startX=n.clientX,this.startY=n.clientY,this.isDragging=!1;const s=o.target;s.setAttribute("data-dragging",e),s.style.opacity="0.5",s.setAttribute("data-original-left",s.offsetLeft.toString()),s.setAttribute("data-original-top",s.offsetTop.toString()),s.setAttribute("data-original-parent-id",(null===(a=s.parentElement)||void 0===a?void 0:a.id)||"")}}touchEnd(o,e){const n=document.querySelector("[data-dragging]"),a=null==n?void 0:n.getAttribute("data-dragging");if(console.log("draggedImageId obitelj: ",a),!a||!this.isDragging)return void(n&&(n.style.opacity="1",n.style.position="",n.style.left="",n.style.top="",n.style.width="",n.style.height="",n.removeAttribute("data-dragging")));const s=o.changedTouches[0],g=document.getElementById("drop-"+e);if(g&&s){const l=g.getBoundingClientRect();s.clientX>=l.left&&s.clientX<=l.right&&s.clientY>=l.top&&s.clientY<=l.bottom&&a===e?(this.playSound("correct"),this.droppedImages[a]||this.pointService.addPoints(1),this.droppedImages[a]=!0,this.checkCompletion(),g.classList.add("dropped"),g.appendChild(n),n.style.width="100%",n.style.height="auto"):(this.playSound("wrong"),this.showError=!0,setTimeout(()=>{this.showError=!1},2e3))}if(n&&(n.style.opacity="1",n.style.position="",n.style.left="",n.style.top="",n.style.width="",n.style.height="",n.removeAttribute("data-dragging"),document.getElementById("img-container"),!this.droppedImages[a])){const B=n.getAttribute("data-original-left"),E=n.getAttribute("data-original-top"),m=n.getAttribute("data-original-parent-id"),h=m?document.getElementById(m):null;console.log("obitelj: ",B,E,m,h),h&&h.appendChild(n),n.style.position="",n.style.left="",n.style.top=""}}touchMove(o){const e=o.touches[0];if(e){o.preventDefault();const n=Math.abs(e.clientX-this.startX),a=Math.abs(e.clientY-this.startY);if(n>10||a>10){this.isDragging=!0;const s=document.querySelector("[data-dragging]"),g=document.getElementById("img-container");if(s&&(s.style.position="absolute",s.style.left=e.clientX-s.offsetWidth/2+"px",s.style.top=e.clientY-s.offsetHeight/2+"px",g)){const l=g.getBoundingClientRect();(e.clientX<l.left||e.clientX>l.right||e.clientY<l.top||e.clientY>l.bottom)&&(document.body.contains(s)||document.body.appendChild(s),this.showImage=!1,document.body.appendChild(s),s.style.width="20vmin",s.style.height="auto")}}}}checkCompletion(){Object.values(this.droppedImages).every(o=>!0===o)&&(this.puzzleComplete=!0,this.showImage=!1)}playSound(o){let e=new Audio;e.src="correct"===o?"assets/sounds/correct.mp3":"assets/sounds/wrong.mp3",e.load(),e.play()}nextPage(){this.stopBackgroundMusic(),this.router.navigateByUrl("/zastita",{replaceUrl:!0})}}return(i=c).\u0275fac=function(o){return new(o||i)(t.rXU(p.Ix),t.rXU(b.OD),t.rXU(t.gRc),t.rXU(k.a))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-okolis"]],decls:11,vars:10,consts:[[3,"fullscreen"],[1,"musicBtn",3,"click"],["name","play",4,"ngIf"],["name","pause",4,"ngIf"],["class","toggleBtn",3,"click",4,"ngIf"],["class","infoBtn-container",4,"ngIf"],["id","img-container",1,"img-container"],["src","assets/drvo.png","alt","drvo","id","drvo","class","draggable-img",3,"touchstart","touchmove","touchend",4,"ngIf"],["id","drop-drvo",1,"drop-zone","drop-zone1",3,"touchend"],["src","assets/drvo.png","alt","drvo","class","dropped-image-1",4,"ngIf"],["class","info-container",4,"ngIf"],["name","play"],["name","pause"],[1,"toggleBtn",3,"click"],[1,"toggleBtnText"],[1,"infoBtn-container"],[1,"infoBtn",3,"click"],[1,"nextBtn",3,"click"],[1,"nextBtnText",3,"click"],["src","assets/drvo.png","alt","drvo","id","drvo",1,"draggable-img",3,"touchstart","touchmove","touchend"],["src","assets/drvo.png","alt","drvo",1,"dropped-image-1"],[1,"info-container"],[1,"info-text"]],template:function(o,e){1&o&&(t.j41(0,"ion-content",0)(1,"ion-button",1),t.bIt("click",function(){return e.toggleMusic()}),t.DNE(2,M,1,0,"ion-icon",2)(3,O,1,0,"ion-icon",3),t.k0s(),t.DNE(4,P,3,0,"ion-button",4)(5,x,7,0,"div",5),t.j41(6,"div",6),t.DNE(7,C,1,0,"img",7),t.k0s(),t.j41(8,"div",8),t.bIt("touchend",function(a){return e.touchEnd(a,"drvo")}),t.DNE(9,y,1,0,"img",9),t.k0s(),t.DNE(10,j,6,0,"div",10),t.k0s()),2&o&&(t.Y8G("fullscreen",!0),t.R7$(2),t.Y8G("ngIf",null==e.backgroundMusic?null:e.backgroundMusic.paused),t.R7$(),t.Y8G("ngIf",!(null!=e.backgroundMusic&&e.backgroundMusic.paused)),t.R7$(),t.Y8G("ngIf",!e.puzzleComplete),t.R7$(),t.Y8G("ngIf",e.puzzleComplete),t.R7$(),t.AVh("show",e.showImage),t.R7$(),t.Y8G("ngIf",!e.droppedImages.drvo),t.R7$(2),t.Y8G("ngIf",e.droppedImages.drvo),t.R7$(),t.Y8G("ngIf",e.showInfo))},dependencies:[v.bT,u.Jm,u.W9,u.iq],styles:['ion-content[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%;--background: url("/assets/4 - utjecaj na okolis.jpg") no-repeat center center/100% 100%;--overflow: hidden}img[_ngcontent-%COMP%]{max-width:none}.toggleBtn[_ngcontent-%COMP%]{font-size:2rem;--background: transparent;--box-shadow: none;position:absolute;bottom:-15%;left:50%;transform:translate(-50%)}.musicBtn[_ngcontent-%COMP%]{--background: #93dce8}.nextBtn[_ngcontent-%COMP%], .infoBtn[_ngcontent-%COMP%]{--background: transparent;--box-shadow: none;display:flex;height:15vmin}.img-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:-100%;transform:translateY(-50%);transition:left .5s ease-in-out;width:20%;height:100vh;object-fit:contain;overflow-y:auto;background-color:#fff;border-right:10px solid #95dbe8;padding:1rem;z-index:999;display:flex;justify-content:center;align-items:center;flex-direction:column;overflow-y:none}.infoBtn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;position:absolute;bottom:0%;left:50%;transform:translate(-50%)}.img-container.show[_ngcontent-%COMP%]{left:0}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{touch-action:none;transition:opacity .2s ease}img[data-dragging][_ngcontent-%COMP%]{z-index:1000;pointer-events:none}.draggable-img[_ngcontent-%COMP%]{width:25vmin;height:25vmin}.dropped-image-1[_ngcontent-%COMP%]{height:120vmin;z-index:-999;position:absolute}.drop-zone[_ngcontent-%COMP%]{height:20vmin;width:20vmin;position:relative;left:65%;top:25%;background-color:#d2cece8d;display:flex;justify-content:center;align-items:center}.drop-zone.highlight[_ngcontent-%COMP%]{border:2px dashed #4caf50}.drop-zone.show[_ngcontent-%COMP%]{left:auto;right:auto;visibility:visible;opacity:1;transition:opacity .5s ease-in-out;z-index:1000}.dropped[_ngcontent-%COMP%]{background-color:transparent}.drop-zone1[_ngcontent-%COMP%]{left:50%;bottom:0%}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:50%;margin:1rem auto;padding:1rem;position:absolute;top:-6%;left:50%;transform:translate(-50%,-10%);max-height:105vmin}.info-text[_ngcontent-%COMP%]{background-color:#fff;border:10px solid #95dbe8;padding:1rem;line-height:1.5;max-height:90vmin;overflow-y:auto}h1[_ngcontent-%COMP%]{color:#fff;font-family:Bagel Fat One,system-ui;font-size:3rem;text-shadow:0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8}p[_ngcontent-%COMP%]{font-size:.8rem;color:#2e2e2e;line-height:1.5}.nextBtnText[_ngcontent-%COMP%], .toggleBtnText[_ngcontent-%COMP%]{color:#fff;font-family:Bagel Fat One,system-ui;text-shadow:0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8,0px 0px 10px #93dce8;font-size:3rem}.info-container.show[_ngcontent-%COMP%]{right:0}.error-image[_ngcontent-%COMP%]{height:20vmin;width:20vmin;position:absolute;left:50%;top:0}@media (max-width: 650px){.dropped-image[_ngcontent-%COMP%]{height:35vmin}.drop-zone1[_ngcontent-%COMP%]{left:40vmin;top:58vmin}.drop-zone2[_ngcontent-%COMP%]{left:65vmin;top:58vmin}.drop-zone3[_ngcontent-%COMP%]{left:88vmin;top:55vmin}.drop-zone4[_ngcontent-%COMP%]{left:110vmin;top:55vmin}}@media (min-width: 812px) and (max-width: 820px){.dropped-image[_ngcontent-%COMP%]{height:30vmin}.drop-zone1[_ngcontent-%COMP%]{top:58vmin}.drop-zone2[_ngcontent-%COMP%]{top:60vmin}.drop-zone3[_ngcontent-%COMP%]{top:55vmin}.drop-zone4[_ngcontent-%COMP%]{top:57vmin}.toggleBtn[_ngcontent-%COMP%]{position:absolute;bottom:-18%}}@media (min-width: 667px) and (max-width: 677px){.dropped-image[_ngcontent-%COMP%]{height:30vmin}.drop-zone1[_ngcontent-%COMP%]{left:48vmin;top:58vmin}.drop-zone2[_ngcontent-%COMP%]{left:67vmin;top:60vmin}.drop-zone3[_ngcontent-%COMP%]{left:85vmin;top:55vmin}.drop-zone4[_ngcontent-%COMP%]{left:115vmin;top:57vmin}.toggleBtn[_ngcontent-%COMP%]{position:absolute;bottom:-18%}}@media (min-width: 1080px) and (max-width: 1090px){.dropped-image[_ngcontent-%COMP%]{height:30vmin}.drop-zone1[_ngcontent-%COMP%]{left:28vmin;top:58vmin}.drop-zone2[_ngcontent-%COMP%]{left:48vmin;top:60vmin}.drop-zone3[_ngcontent-%COMP%]{left:66vmin;top:55vmin}.drop-zone4[_ngcontent-%COMP%]{left:83vmin;top:57vmin}.toggleBtn[_ngcontent-%COMP%]{position:absolute;bottom:-5%}}@media (min-width: 1280px) and (max-width: 1290px){.dropped-image[_ngcontent-%COMP%]{height:30vmin}.drop-zone1[_ngcontent-%COMP%]{left:40vmin;top:58vmin}.drop-zone2[_ngcontent-%COMP%]{left:60vmin;top:60vmin}.drop-zone3[_ngcontent-%COMP%]{left:77vmin;top:55vmin}.drop-zone4[_ngcontent-%COMP%]{left:102vmin;top:57vmin}.toggleBtn[_ngcontent-%COMP%]{position:absolute;bottom:-5%}}@media (min-width: 1366px) and (max-width: 1376px){.dropped-image[_ngcontent-%COMP%]{height:30vmin}.drop-zone1[_ngcontent-%COMP%]{left:28vmin;top:58vmin}.drop-zone2[_ngcontent-%COMP%]{left:48vmin;top:60vmin}.drop-zone3[_ngcontent-%COMP%]{left:66vmin;top:55vmin}.drop-zone4[_ngcontent-%COMP%]{left:83vmin;top:57vmin}.toggleBtn[_ngcontent-%COMP%]{position:absolute;bottom:-5%;left:45%}}']}),c})()}];let z=(()=>{var i;class c{}return(i=c).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[p.iI.forChild(I),p.iI]}),c})(),w=(()=>{var i;class c{}return(i=c).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[v.MD,_.YN,u.bv,z]}),c})()}}]);